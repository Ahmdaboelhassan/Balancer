<div class="bg-white rounded-lg lg:p-10 p-6 mb-3">
  <h1 class="text-slate-800 font-bold text-3xl mb-4 lg:w-4/5">Settings</h1>
  <hr />
  <div>
    @if (settingsForm) {
    <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="py-5">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="hidden" formControlName="id" />

        <!-- Account Selection Fields -->
        <div class="form-group">
          <label for="defaultCreditAccount">Default Credit Account</label>
          <select
            id="defaultCreditAccount"
            formControlName="defaultCreditAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="defaultDebitAccount">Default Debit Account</label>
          <select
            id="defaultDebitAccount"
            formControlName="defaultDebitAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <!-- Period and Rate Settings -->
        <div class="form-group">
          <label for="defaultPeriodDays">Default Period Days</label>
          <input
            type="number"
            id="defaultPeriodDays"
            formControlName="defaultPeriodDays"
            class="form-control w-full"
          />
        </div>

        <div class="form-group">
          <label for="defaultDayRate">Default Day Rate</label>
          <input
            type="number"
            id="defaultDayRate"
            formControlName="defaultDayRate"
            class="form-control w-full"
          />
        </div>

        <!-- Account Type Selection Fields -->
        <div class="form-group">
          <label for="expensesAccount">Expenses Account</label>
          <select
            id="expensesAccount"
            formControlName="expensesAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="revenueAccount">Revenue Account</label>
          <select
            id="revenueAccount"
            formControlName="revenueAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <!-- Asset Accounts -->
        <div class="form-group">
          <label for="assetsAccount">Assets Account</label>
          <select
            id="assetsAccount"
            formControlName="assetsAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="currentAssetsAccount">Current Assets Account</label>
          <select
            id="currentAssetsAccount"
            formControlName="currentAssetsAccount"
            class="form-control w-full"
          >
            <option value="">Select Account</option>
            @for (account of accounts; track account.id) {
            <option [value]="account.id">{{ account.name }}</option>
            }
          </select>
        </div>

        <!-- Level Settings -->
        <div class="form-group">
          <label for="levelOneDigits">Level One Digits</label>
          <input
            type="number"
            id="levelOneDigits"
            formControlName="levelOneDigits"
            class="form-control w-full"
            [readonly]="settingsForm.get('levelOneDigits')?.value > 0"
          />
        </div>

        <div class="form-group">
          <label for="levelTwoDigits">Level Two Digits</label>
          <input
            type="number"
            id="levelTwoDigits"
            formControlName="levelTwoDigits"
            class="form-control w-full"
            [readonly]="settingsForm.get('levelTwoDigits')?.value > 0"
          />
        </div>

        <div class="form-group">
          <label for="levelThreeDigits">Level Three Digits</label>
          <input
            type="number"
            id="levelThreeDigits"
            formControlName="levelThreeDigits"
            class="form-control w-full"
            [readonly]="settingsForm.get('levelThreeDigits')?.value > 0"
          />
        </div>

        <div class="form-group">
          <label for="levelFourDigits">Level Four Digits</label>
          <input
            type="number"
            id="levelFourDigits"
            formControlName="levelFourDigits"
            class="form-control w-full"
            [readonly]="settingsForm.get('levelFourDigits')?.value > 0"
          />
        </div>

        <div class="form-group">
          <label for="levelFiveDigits">Level Five Digits</label>
          <input
            type="number"
            id="levelFiveDigits"
            formControlName="levelFiveDigits"
            class="form-control w-full"
            [readonly]="settingsForm.get('levelFiveDigits')?.value > 0"
          />
        </div>

        <div class="form-group">
          <label for="maxAccountLevel">Max Account Level</label>
          <input
            type="number"
            id="maxAccountLevel"
            formControlName="maxAccountLevel"
            class="form-control w-full"
            [readonly]="settingsForm.get('maxAccountLevel')?.value > 0"
          />
        </div>
      </div>

      <div class="mt-5">
        <button
          type="submit"
          class="btn-save md:w-1/4 w-full"
          [disabled]="!settingsForm.valid"
        >
          Save
        </button>
      </div>
    </form>
    }
  </div>
</div>
